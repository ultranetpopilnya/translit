<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Генератор логінів Ультранет + ISP Energy</title>
    <link rel="icon" href="log-in.png" type="image/png">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 2rem 0;
            background-color: #f4f4f9;
            color: #333;
        }
        .container {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
            width: 90%;
            max-width: 600px;
            margin-bottom: 2rem;
        }
        h1 {
            color: #444;
            margin-bottom: 1.5rem;
        }
        textarea {
            width: 100%;
            padding: 0.75rem;
            font-size: 1rem;
            border-radius: 4px;
            border: 1px solid #ccc;
            box-sizing: border-box;
            margin-bottom: 1rem;
            min-height: 120px;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        button:hover {
            background-color: #0056b3;
        }
        #results-container {
            margin-top: 1.5rem;
            text-align: left;
        }
        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            margin-top: 0.5rem;
            background-color: #f9f9f9;
        }
        .result-item span {
            font-weight: bold;
            color: #28a745;
            margin: 0 10px;
        }
        .result-item .original-name {
            font-weight: normal;
            color: #555;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .result-item button {
            padding: 0.4rem 0.8rem;
            font-size: 0.9rem;
            background-color: #6c757d;
            min-width: 110px;
        }
        .result-item button:hover {
            background-color: #5a6268;
        }
        .result-item button.copied {
            background-color: #28a745;
        }
        /* Нові стилі для версії */
        .version-info {
            position: fixed;
            top: 10px;
            right: 10px;
            font-size: 14px;
            color: #888;
            z-index: 1000;
        }
    </style>
</head>
<body>

<div class="version-info">
    <p>Версія 1.04</p>
</div>

<div class="container">
    <h1>Генератор логінів <span style="color: #811e71;">Ультранет</span> + <span style="color: #fff200;">I</span><span style="color: #00c100;">S</span><span style="color: #00d4ff;">P</span> Energy</h1>
    <p>Введіть одне або декілька ПІБ, кожне з нового рядка:</p>
    <textarea id="fullNameInput" rows="5" placeholder="Введіть Прізвище, Ім'я, та по Батькові"></textarea>
    <div id="results-container"></div>
</div>

    <script>
        function transliterate(text) {
            const mapping = {
                'а': 'a', 'б': 'b', 'в': 'v', 'г': 'h', 'ґ': 'g', 'д': 'd',
                'е': 'e', 'ж': 'zh', 'з': 'z', 'и': 'y', 'і': 'i', 'й': 'i',
                'к': 'k', 'л': 'l', 'м': 'm', 'н': 'n', 'о': 'o', 'п': 'p',
                'р': 'r', 'с': 's', 'т': 't', 'у': 'u', 'ф': 'f', 'х': 'kh',
                'ц': 'ts', 'ч': 'ch', 'ш': 'sh', 'щ': 'shch', 'ь': '', "'": ''
            };
            const positionalRules = {
                'є': { start: 'ye', other: 'ie' },
                'ї': { start: 'yi', other: 'i' },
                'й': { start: 'y', other: 'i' },
                'ю': { start: 'yu', other: 'iu' },
                'я': { start: 'ya', other: 'ia' }
            };

            let result = '';
            text = text.toLowerCase();

            for (let i = 0; i < text.length; i++) {
                const char = text[i];
                const isFirstChar = (i === 0);
                if (char === 'з' && i + 1 < text.length && text[i + 1] === 'г') {
                    result += 'zgh';
                    i++;
                    continue;
                }
                if (positionalRules[char]) {
                    result += isFirstChar ? positionalRules[char].start : positionalRules[char].other;
                } else {
                    result += mapping[char] || '';
                }
            }
            return result;
        }

        function copyLogin(textToCopy, buttonElement) {
            navigator.clipboard.writeText(textToCopy).then(() => {
                const originalText = buttonElement.textContent;
                buttonElement.textContent = 'Скопійовано!';
                buttonElement.classList.add('copied');
                buttonElement.disabled = true;
                
                // Очищення поля вводу після копіювання
                document.getElementById('fullNameInput').value = '';
                
                setTimeout(() => {
                    buttonElement.textContent = originalText;
                    buttonElement.classList.remove('copied');
                    buttonElement.disabled = false;
                }, 2000);
            }).catch(err => {
                console.error('Не вдалося скопіювати текст: ', err);
            });
        }

        function generateLogins() {
            const fullNameInput = document.getElementById('fullNameInput');
            const fullNames = fullNameInput.value.trim();
            const resultsContainer = document.getElementById('results-container');
            resultsContainer.innerHTML = '';

            if (!fullNames) {
                return;
            }

            const lines = fullNames.split('\n');

            lines.forEach(line => {
                const fullName = line.trim();
                if (fullName === '') return;

                const parts = fullName.split(/\s+/);
                if (parts.length < 3) {
                    const errorElement = document.createElement('div');
                    errorElement.className = 'result-item';
                    errorElement.innerHTML = `<span class="original-name" style="color: #dc3545;">"${fullName}" - Неповний ПІБ</span>`;
                    resultsContainer.appendChild(errorElement);
                    return;
                }

                const [lastName, firstName, patronymic] = parts;
                const transliteratedLastName = transliterate(lastName);
                const firstNameInitial = transliterate(firstName.charAt(0));
                const patronymicInitial = transliterate(patronymic.charAt(0));
                const login = transliteratedLastName + firstNameInitial + patronymicInitial;

                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                resultItem.innerHTML = `
                    <div class="original-name" title="${fullName}">${fullName}</div>
                    <span>${login}</span>
                    <button onclick="copyLogin('${login}', this)">Копіювати</button>
                `;
                resultsContainer.appendChild(resultItem);
            });
        }
        
        // Add event listener to the textarea for automatic generation
        document.addEventListener('DOMContentLoaded', () => {
            const fullNameInput = document.getElementById('fullNameInput');
            fullNameInput.addEventListener('input', generateLogins);
        });
    </script>
    
</body>
</html>





